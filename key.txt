-- 🔐 Script with username:key verification from GitHub

local github_user = "ayobanw"
local repo_name = "Script-upspec"
local key_file = "keys.txt"
local main_script = "main.lua"

-- URL to keys.txt and actual script
local key_url = "https://raw.githubusercontent.com/"..github_user.."/"..repo_name.."/main/"..key_file
local script_url = "https://raw.githubusercontent.com/"..github_user.."/"..repo_name.."/main/"..main_script

-- Prompt user for name and key
local user = gg.prompt({"👤 Nama Pengguna:"})[1]
local key  = gg.prompt({"🔑 Key Akses:"})[1]

-- Get key list
local keys = gg.makeRequest(key_url).content
if not keys then
  gg.alert("❌ Tak dapat akses server key.")
  os.exit()
end

-- Check if username:key exists
if not keys:find(user..":"..key) then
  gg.alert("❌ Nama atau Key SALAH!\n\nHubungi admin jika perlu.")
  os.exit()
end

-- Load main script
local remote = gg.makeRequest(script_url)
if remote and remote.content then
  load(remote.content)()
else
  gg.alert("❌ Tak dapat load skrip utama.")
end
